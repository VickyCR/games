function main(){"use strict";var circleTurn=!1,crossTurn=!1,o='circle',x='cross',id=0,score=[0,0],circleMoves=[],crossMoves=[];$('#circle').click(function(){circleTurn=!0;crossTurn=!1;$('#circle').addClass('figure-selected');$('#cross').removeClass('figure-selected')});$('#cross').click(function(){crossTurn=!0;circleTurn=!1;$('#cross').addClass('figure-selected');$('#circle').removeClass('figure-selected')});$('#lets-play').click(function(){if(circleTurn||crossTurn){$('#get-players').hide();$("#player1 h2").html($('#name1').val());$("#player2 h2").html($('#name2').val());if(circleTurn){displayPlayer(o,x,1,2);return}else{displayPlayer(x,o,2,1);return}}});$('.cat').click(function(){id=Number($(this).attr('id'));if(circleTurn){if(verify(circleMoves,crossMoves)){circleMoves.push(id);letsPlay();if(circleMoves.length===5){circleTurn=ticTacToe(circleMoves,o,x,1,2);crossTurn=!1}
return}}else{if(verify(crossMoves,circleMoves)){crossMoves.push(id);letsPlay();if(crossMoves.length===5){crossTurn=ticTacToe(crossMoves,x,o,2,1);circleTurn=!1}
return}}});function verify(me,enemy){for(var i=0;i<enemy.length;i++){if(enemy[i]===id){console.log('Occupy by your worst enemy')
return!1}else if(me[i]===id){console.log('Occupy by yourself, lol.');return!1}}
return!0}
function letsPlay(){if(circleTurn){if(whoWins(circleMoves,$('#player1 h2').html(),$('#player2 h2').html(),o,x,1,2,0)){return}else{circleTurn=!1;crossTurn=!0;displayPlayer(x,o,2,1);return}}else{if(whoWins(crossMoves,$('#player2 h2').html(),$('#player1 h2').html(),x,o,2,1,1)){return}else{circleTurn=!0;crossTurn=!1;displayPlayer(o,x,1,2);return}}}
function whoWins(toCheck,onTurn,onHold,win,loose,ply1,ply2,point){if(toCheck.length>2){if(checkRows(toCheck)){showWinner(onTurn,onHold,win,loose,ply1,ply2);sumScore(point);return!0}else if(checkCols(toCheck)){showWinner(onTurn,onHold,win,loose,ply1,ply2);sumScore(point);return!0}else if(checkDiag(toCheck)){showWinner(onTurn,onHold,win,loose,ply1,ply2);sumScore(point);return!0}}}
function displayPlayer(onTurn,onHold,i,j){$('#'+id).removeClass(onHold+'-pre cat');$('#'+id).addClass(onHold+'-turn');$('.cat').removeClass(onHold+'-pre');$('.cat').addClass(onTurn+'-pre');$('#player'+i).addClass('turn');$('#player'+i+' div').addClass(onTurn+'-turn');$('#player'+i+' div').removeClass(onTurn+'-wait');$('#player'+i+' > .onTurn').html('Your turn');$('#player'+j).removeClass('turn');$('#player'+j+' div').removeClass(onHold+'-turn');$('#player'+j+' div').addClass(onHold+'-wait');$('#player'+j+' > .onTurn').html('Wait')}
function showWinner(winner,looser,win,loose,ply1,ply2){$('#player-wins').show();$("#winner h1").html('You are victorius '+winner+'!');$('#play-revenge p').html(looser+' claims for Revenge');$('#winner > div > div').addClass(win+'-turn');$('#winner > div > div').removeClass(loose+'loose-turn');$('#play-revenge').click(function(){id=0;circleMoves=[];crossMoves=[];$('#player-wins').hide();cleanTicTacToe();displayPlayer(win,loose,ply1,ply2);return})}
function ticTacToe(toCheck,win,loose,ply1,ply2){$('#no-one-wins').show();$("#no-winner h1").html('Shame on you, Tic Tac Toe.');$('#play-again p').html('We\'ll do it better!');$('#play-again').click(function(){id=0;circleMoves=[];crossMoves=[];$('#no-one-wins').hide();cleanTicTacToe();displayPlayer(win,loose,ply1,ply2)});return!0}
function sumScore(i){score[i]++;$('#score1').html('Score: '+score[0]);$('#score2').html('Score: '+score[1])}
function checkRows(toCheck){var win=0;for(var i=0;i<toCheck.length;i++){for(var j=11;j<14;j++){if(toCheck[i]===j){win++;if(win===3){return!0}}}}
win=0;for(var i=0;i<toCheck.length;i++){for(var j=21;j<24;j++){if(toCheck[i]===j){win++;if(win===3){return!0}}}}
win=0;for(var i=0;i<toCheck.length;i++){for(var j=31;j<34;j++){if(toCheck[i]===j){win++;if(win===3){return!0}}}}}
function checkCols(toCheck){var win=0;for(var i=0;i<toCheck.length;i++){for(var j=11;j<32;j=j+10){if(toCheck[i]===j){win++;if(win===3){return!0}}}}
win=0;for(var i=0;i<toCheck.length;i++){for(var j=12;j<33;j=j+10){if(toCheck[i]===j){win++;if(win===3){return!0}}}}
win=0;for(var i=0;i<toCheck.length;i++){for(var j=13;j<34;j=j+10){if(toCheck[i]===j){win++;if(win===3){return!0}}}}}
function checkDiag(toCheck){var win=0;for(var i=0;i<toCheck.length;i++){for(var j=11;j<34;j=j+11){if(toCheck[i]===j){win++;if(win===3){return!0}}}}
win=0;for(var i=0;i<toCheck.length;i++){for(var j=13;j<32;j=j+9){if(toCheck[i]===j){win++;if(win===3){return!0}}}}}
function cleanTicTacToe(){for(var i=11;i<14;i++){$('#'+i).addClass('cat')}
for(var i=21;i<24;i++){$('#'+i).addClass('cat')}
for(var i=31;i<34;i++){$('#'+i).addClass('cat')}
$('.cat').removeClass('circle-pre');$('.cat').removeClass('circle-turn');$('.cat').removeClass('cross-pre');$('.cat').removeClass('cross-turn');return}}
$(document).ready(main)